use config
update config.t_config_item set `value`='{{ config_zookeeper_address }}' where `applicationName`='public' and `group`='system' and `name`='cicdi.zookeeper.address';
update config.t_config_item set `value`='{{ config_db_password }}' where `applicationName`='public' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';
update config.t_config_item set `value`='{{ config_eureka_address }}' where `applicationName`='public' and `group`='system' and `name`='eureka.client.service-url.defaultZone';

#cloud
update config.t_config_item set `value`='{{ cloud_db_address }}' where `applicationName`='cicdi.cloud' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.url';
update config.t_config_item set `value`='{{ cloud_db_password }}' where `applicationName`='cicdi.cloud' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';
update config.t_config_item set `value`='{{ cloud_mysql_nodes }}' where `applicationName`='cicdi.cloud' and `group`='kubernetes' and `name`='kubernetes.mysql.nodes';
update config.t_config_item set `value`='{{ cloud_kubernetes_nodes }}' where `applicationName`='cicdi.cloud' and `group`='kubernetes' and `name`='kubernetes.nodes';
update config.t_config_item set `value`='{{ cloud_nfs_server }}' where `applicationName`='cicdi.cloud' and `group`='kubernetes' and `name`='kubernetes.nfs.server';
update config.t_config_item set `value`='{{ cloud_harbor_url }}' where `applicationName`='cicdi.cloud' and `group`='kubernetes' and `name`='kubernetes.harbor.url';
update config.t_config_item set `value`='cicdi-cloud-svc.platform' where `applicationName`='cicdi.cloud' and `group`='system' and `name`='eureka.instance.hostname';


#monitor
update config.t_config_item set `value`='{{ monitor_db_address }}' where `applicationName`='cicdi.monitor.center' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.url';
update config.t_config_item set `value`='{{ monitor_db_password }}' where `applicationName`='cicdi.monitor.center' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';
update config.t_config_item set `value`='{{ monitor_redis_url }}' where `applicationName`='cicdi.monitor.center' and `group`='system' and `name`='cicdi.redis.hostname';
update config.t_config_item set `value`='{{ monitor_redis_port }}' where `applicationName`='cicdi.monitor.center' and `group`='system' and `name`='cicdi.redis.port';


#paas
update config.t_config_item set `value`='{{ paas_db_address }}' where `applicationName`='cicdi.cloud.paas' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.url';
update config.t_config_item set `value`='{{ paas_db_password }}' where `applicationName`='cicdi.cloud.paas' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';
update config.t_config_item set `value`='{{ paas_redis_url }}' where `applicationName`='cicdi.cloud.paas' and `group`='system' and `name`='cicdi.redis.hostname';
update config.t_config_item set `value`='{{ paas_redis_port }}' where `applicationName`='cicdi.cloud.paas' and `group`='system' and `name`='cicdi.redis.port';
update config.t_config_item set `value`='{{ paas_deploy_address }}' where `applicationName`='cicdi.cloud.paas' and `group`='paas' and `name`='kubernetes.api.deployment';
update config.t_config_item set `value`='{{ paas_pods_address }}' where `applicationName`='cicdi.cloud.paas' and `group`='paas' and `name`='kubernetes.api.pods';
update config.t_config_item set `value`='{{ paas_kubernetes_token }}' where `applicationName`='cicdi.cloud.paas' and `group`='paas' and `name`='kubernetes.api.token';
update config.t_config_item set `value`='{{ paas_jenkins_url }}' where `applicationName`='cicdi.cloud.paas' and `group`='paas' and `name`='jenkins.url';
update config.t_config_item set `value`='{{ paas_jenkins_password }}' where `applicationName`='cicdi.cloud.paas' and `group`='paas' and `name`='jenkins.password';
update config.t_config_item set `value`='{{ paas_heapster_url }}' where `applicationName`='cicdi.cloud.paas' and `group`='paas' and `name`='kubernetes.heapster.url';


#rdp_schema
update config.t_config_item set `value`='{{ rdp_db_address }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.url';
update config.t_config_item set `value`='{{ rdp_db_password }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';
update config.t_config_item set `value`='{{ rdp_kubernetes_nodes }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='kubernetes' and `name`='kubernetes.nodes';
update config.t_config_item set `value`='{{ rdp_exec_host }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='pipelineEnv' and `name`='env.ExecHostIP';
update config.t_config_item set `value`='{{ rdp_harbor_url }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='pipelineEnv' and `name`='env.HarborIP';
update config.t_config_item set `value`='{{ rdp_harbor_password }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='pipelineEnv' and `name`='env.HarborPwd';
update config.t_config_item set `value`='{{ rdp_kubernetes_master }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='pipelineEnv' and `name`='env.KubeMasterHostIP';
update config.t_config_item set `value`='{{ rdp_git_url }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='gitlab' and `name`='gitlab.url';
update config.t_config_item set `value`='{{ rdp_git_password }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='gitlab' and `name`='gitlab.password';
update config.t_config_item set `value`='{{ rdp_git_token }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='gitlab' and `name`='gitlab.privateToken';
update config.t_config_item set `value`='{{ rdp_jenkins_url }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='jenkins' and `name`='jenkins.url';
update config.t_config_item set `value`='{{ rdp_jenkins_password }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='jenkins' and `name`='jenkins.password';
update config.t_config_item set `value`='{{ rdp_app_ip }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='application' and `name`='appIp';
update config.t_config_item set `value`='{{ rdp_dns_ip }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='kubernetes' and `name`='kubernetes.dns.ip';
update config.t_config_item set `value`='{{ rdp_base_path }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='pipelineEnv' and `name`='env.BasePath';
update config.t_config_item set `value`='{{ rdp_eureka_hostname }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='system' and `name`='eureka.instance.hostname';
update config.t_config_item set `value`='{{ rdp_git_cred_id }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='pipelineEnv' and `name`='env.GitCredID';
update config.t_config_item set `value`='{{ rdp_cluster_suffix }}' where `applicationName`='cicdi.cloud.rdplatform' and `group`='kubernetes' and `name`='kubernetes.cluster.suffix';

#log_platform_schema
update config.t_config_item set `value`='{{ log_db_address }}' where `applicationName`='cicdi.cloud.logplatform' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.url';
update config.t_config_item set `value`='{{ log_db_password }}' where `applicationName`='cicdi.cloud.logplatform' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';


#nodeport
update config.t_config_item set `value`='{{ nodeport_db_address }}' where `applicationName`='cicdi.nodeport.center' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.url';
update config.t_config_item set `value`='{{ nodeport_db_password }}' where `applicationName`='cicdi.nodeport.center' and `group`='system' and `name`='cicdi.jdbc.datasource-group.primary.readwrite-datasource.password';
update config.t_config_item set `value`='{{ nodeport_kubernetes_nodes }}' where `applicationName`='cicdi.nodeport.center' and `group`='nodeport' and `name`='kubernetes.nodes';
commit

#rdp_schema
use rdp_schema;
update t_src_template set src=replace(src,'172.16.11.71:31584','172.16.12.37:19999');
commit
update t_application
set gitlab_web_url=replace(gitlab_web_url,'172.16.11.71:31584','172.16.12.37:19999'),http_url_to_repo=replace(http_url_to_repo,'172.16.11.71:31584','172.16.12.37:19999'),ssh_url_to_repo=replace(ssh_url_to_repo,'172.16.11.71:31584','172.16.12.37:19999');
commit
update t_pipeline_docker_image_relation set image_tag = '{{ image_tag }}';
update t_application_associate set k8s_dns_ip='20.19.0.2',associate_url=REPLACE(associate_url,'svc.cluster.local','svc.testcluster.cicdi');
commit
update t_application_associate set associate_url=CONCAT('sit-',associate_url);
commit